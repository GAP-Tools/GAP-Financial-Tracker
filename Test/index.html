<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Financial Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <nav>
                <a id="switchLink" href="#">Switch to Business</a>
                <button onclick="downloadApp()">Download App</button>
            </nav>
            <h1>Personal Financial Tracker</h1>
        </header>

        <main>
            <div class="profile-section">
                <h2>Profile Setup</h2>
                <input type="text" id="name" placeholder="Name">
                <input type="text" id="age" placeholder="Age">
                <input type="text" id="occupation" placeholder="Occupation">
                <input type="text" id="dream" placeholder="Your Dream">
                <select id="currency">
                    <option value="">Select Currency</option>
                </select>
                <input type="number" id="passive-income-target" placeholder="Passive Income Target">
                <button onclick="saveProfile()">Save Profile</button>
                <button onclick="editPassiveIncomeTarget()">Edit Target</button>
            </div>

            <div class="monthly-section">
                <h2>Monthly Income Statement</h2>
                <table id="monthly-table">
                    <thead>
                        <tr>
                            <th>Month</th>
                            <th>Total Income</th>
                            <th>Total Expenses</th>
                            <th>Net Income</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="monthly-body"></tbody>
                </table>

                <div class="average-stats">
                    <div>
                        <label>Average Income:</label>
                        <span id="average-income"></span>
                    </div>
                    <div>
                        <label>Average Expenses:</label>
                        <span id="average-expenses"></span>
                    </div>
                    <div>
                        <label>Average Cashflow:</label>
                        <span id="average-cashflow"></span>
                    </div>
                </div>
            </div>

            <div class="balance-sheet-section">
                <h2>Balance Sheet</h2>
                <table id="balance-sheet-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Description</th>
                            <th>Assets</th>
                            <th>Liabilities</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="balance-sheet-body"></tbody>
                </table>

                <div class="balance-totals">
                    <div>
                        <label>Total Assets:</label>
                        <span id="total-assets"></span>
                    </div>
                    <div>
                        <label>Total Liabilities:</label>
                        <span id="total-liabilities"></span>
                    </div>
                    <div>
                        <label>Net Worth:</label>
                        <span id="net-worth"></span>
                    </div>
                </div>
                <button onclick="addAsset()">Add Asset</button>
                <button onclick="addLiability()">Add Liability</button>
            </div>

            <div class="fund-allocation-section">
                <h2>Fund Allocation</h2>
                <button onclick="showAllocationModal()">Edit Categories</button>
                <table id="fund-allocation-table">
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>Percentage</th>
                            <th>Balance</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="fund-allocation-body"></tbody>
                </table>
            </div>

            <div class="financial-health-section">
                <h2>Financial Health</h2>
                <div id="healthPercentage" style="font-size: 2em;"></div>
                <canvas id="healthChart"></canvas>
                <div id="healthTips" style="font-size: 1.2em; margin-top: 10px;"></div>
            </div>

            <div class="calculator-section">
                <button onclick="toggleCalculator()">Calculator</button>
                <div id="calculatorPopup" class="popup">
                    <div class="calculator">
                        <input type="text" id="calculatorInput" placeholder="Type expression...">
                        <div class="calculator-buttons">
                            <button onclick="appendToCalculator('7')">7</button>
                            <button onclick="appendToCalculator('8')">8</button>
                            <button onclick="appendToCalculator('9')">9</button>
                            <button onclick="appendToCalculator('/')">/</button>
                            <button onclick="appendToCalculator('4')">4</button>
                            <button onclick="appendToCalculator('5')">5</button>
                            <button onclick="appendToCalculator('6')">6</button>
                            <button onclick="appendToCalculator('*')">*</button>
                            <button onclick="appendToCalculator('1')">1</button>
                            <button onclick="appendToCalculator('2')">2</button>
                            <button onclick="appendToCalculator('3')">3</button>
                            <button onclick="appendToCalculator('-')">-</button>
                            <button onclick="appendToCalculator('0')">0</button>
                            <button onclick="appendToCalculator('.')">.</button>
                            <button onclick="appendToCalculator('C')">C</button>
                            <button onclick="appendToCalculator('+')">+</button>
                            <button onclick="calculateResult()">=</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <button onclick="generateStory()">Generate Financial Story</button>
            <button onclick="exportData()">Export Data</button>
            <button onclick="importData()">Import Data</button>
            <button onclick="clearData()">Clear Data</button>
            <span id="financialStory"></span>
        </footer>

        <div id="entryModal" class="modal">
            <div class="modal-content">
                <span onclick="closeModal()" class="close">×</span>
                <h2>Record Entry</h2>
                <div id="categorySelectDiv">
                    <label>Category:</label>
                    <select id="entryCategory"></select>
                </div>
                <label>Type:</label>
                <select id="entryType">
                    <option value="income">Income</option>
                    <option value="expense">Expense</option>
                </select>
                <label>Amount:</label>
                <input type="number" id="entryAmount" step="0.01">
                <label>Description:</label>
                <input type="text" id="entryDescription">
                <button onclick="saveEntry()">Save Entry</button>
            </div>
        </div>

        <div id="allocationModal" class="modal">
            <div class="modal-content">
                <span onclick="closeAllocationModal()" class="close">×</span>
                <h2>Allocation Settings</h2>
                <input type="text" id="newAllocationCategory" placeholder="New Category">
                <input type="number" id="newAllocationPercentage" placeholder="Percentage (e.g., 20)">
                <button onclick="addAllocationCategory()">Add Category</button>
                <ul id="allocationCategories"></ul>
                <button onclick="saveAllocations()">Save Allocations</button>
            </div>
        </div>

        <div id="transactionSummaryModal" class="modal">
            <div class="modal-content">
                <span onclick="closeSummaryModal()" class="close">×</span>
                <h2>Category Transactions</h2>
                <div id="transactionSummaryText"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
                      </html>
